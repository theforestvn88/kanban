<% form_id = "board#{@board.id}-form-list" %>
<% if @list.errors.any? %>
    <%= turbo_stream.replace form_id do %>
        <div id="<%= form_id %>" data-kanban-board-target="formList" draggable="false" droppable="false" class="">
            <%= render partial: @board_configs.form_list_partial,  
                    locals: {@board_configs.board_model_symbol => @board,  @board_configs.list_model_symbol => @list} %>
        </div>
    <% end %>
<% else %>
    <%= turbo_stream.replace "edit-list" do %>
        <%= render "kanban7/lists/list", list: @list, prev: 0, board_configs: @board_configs %>
        <button data-kanban-board-target="addListBtn" data-action="kanban-board#showListForm" class="add-list-btn"
            draggable="false"
            droppable="true"
            id="list_board<%= @board.id %>"
            data-viewtype="list"
            data-currpos="<%= position(@list) %>" 
            data-prevpos="<%= position(@list) - 1 %>">
            + Add another list
        </button>
        
        <div class="hidden"
            id="board<%= @board.id %>-form-list"
            data-kanban-board-target="formList"
            draggable="false"
            droppable="false">
            <%= render partial: @board_configs.form_list_partial, 
                locals: {
                    @board_configs.board_model_symbol => @board, 
                    @board_configs.list_model_symbol => @board_configs.list_model.new(@board_configs.board_model_symbol => @board)
                } 
            %>
        </div>
    <% end %>
<% end %>